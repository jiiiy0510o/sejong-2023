<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>국립세종수목원</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://kit.fontawesome.com/06a873e6b2.js" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="/css/reset.css" />
    <link rel="stylesheet" href="/css/common.css" />
    <link rel="stylesheet" href="/css/index.css" />
  </head>
  <body>
    <div class="modalWrap">
      <div class="modal">
        <form class="close">
          <input type="checkbox" />
          <label for="close">오늘 하루 그만보기</label>
          <input type="button" value="닫기" />
        </form>
      </div>
      <div class="modal">
        <form class="close">
          <input type="checkbox" />
          <label for="close">오늘 하루 그만보기</label>
          <input type="button" value="닫기" />
        </form>
      </div>
      <div class="modal">
        <form class="close">
          <input type="checkbox" />
          <label for="close">오늘 하루 그만보기</label>
          <input type="button" value="닫기" />
        </form>
      </div>
    </div>
    <header></header>

    <main>
      <div class="sideBtn"></div>
      <div class="imgSlide">
        <div class="slider">
          <div class="mark"></div>
          <div></div>
          <div></div>
          <div>
            <i class="fa-regular fa-circle-pause"></i>
          </div>
        </div>
        <div class="imgBox">
          <img src="/img/slide01.jpg" class="showImg" width="100%" alt="2023 반려식물 키트산업전" />
          <img src="/img/slide02.jpg" width="100%" alt="국립세종수목원" />
          <img src="/img/slide03.jpg" width="100%" alt="원보윤 특별전" />
        </div>
      </div>
      <article>
        <section class="eventSlide">
          <div class="exhibit">
            <div class="title">
              <div class="circle">
                <i class="fa-regular fa-bookmark"></i>
              </div>
              오늘의 수목원 행사 · 전시 · 교육
            </div>
            <div class="miniSlide">
              <img src="/img/pop01.png" alt="식물집사들의 공간" />
              <img src="/img/pop02.jpg" alt="반려식물상담실" />
              <img src="/img/pop03.png" alt="사계절온실 해설" />
              <img src="/img/pop04.jpg" alt="VOC 메아리" />
              <img src="/img/pop01.png" alt="식물집사들의 공간" />
              <img src="/img/pop02.jpg" alt="반려식물상담실" />
              <img src="/img/pop03.png" alt="사계절온실 해설" />
            </div>
            <div class="dots">
              <div></div>
              <div></div>
              <div></div>
              <div></div>
            </div>
          </div>
          <div class="closure">
            <div class="title">
              <div class="circle">
                <i class="fa-solid fa-calendar-days"></i>
              </div>
              휴관일 안내 <span>+</span>
            </div>
            <div class="month">2024년 <strong>01월</strong></div>
            <ul class="day">
              <li>01일(월)&nbsp;&nbsp;&nbsp;정기휴관일</li>
              <li>08일(월)&nbsp;&nbsp;&nbsp;정기휴관일</li>
              <li>15일(월)&nbsp;&nbsp;&nbsp;정기휴관일</li>
              <li>22일(월)&nbsp;&nbsp;&nbsp;정기휴관일</li>
              <li>29일(월)&nbsp;&nbsp;&nbsp;정기휴관일</li>
            </ul>
            <div class="time">
              <strong>이용시간</strong><span>평일/주말 09:00~17:00시<br />(입장마감 16:00시)</span>
            </div>
          </div>
        </section>
        <div class="flexBoard">
          <section>
            <div class="title">
              <div class="circle">
                <i class="fa-solid fa-volume-high"></i>
              </div>
              수목원 소식
              <span><i class="fa-solid fa-plus"></i></span>
            </div>
            <div class="boardList">
              <div class="date">20<br /><span>2023.11</span></div>
              <div class="memo">[2023 VOC 개선] 제 12화 너 이름이 뭐니?(식물정보 제공)</div>
            </div>
            <div class="boardList">
              <div class="date">20<br /><span>2023.11</span></div>
              <div class="memo">[2023 VOC 개선] 제 11화 사계절전시온실 휴게의자 환경개선</div>
            </div>
            <div class="boardList">
              <div class="date">20<br /><span>2023.11</span></div>
              <div class="memo">[2023 VOC 개선] 제 10화 이야기를 담은 안내 시설물 보완(야외주제원)</div>
            </div>
          </section>
          <section>
            <div class="title">
              <div class="circle">
                <i class="fa-solid fa-volume-high"></i>
              </div>
              미디어 보도 <span><i class="fa-solid fa-plus"></i></span>
            </div>
            <div class="boardList">
              <div class="date">31<br /><span>2023.07</span></div>
              <div class="memo">지역상생 여름꽃 축제 '얼씨구 꽃 좋다' 개최</div>
            </div>
            <div class="boardList">
              <div class="date">31<br /><span>2023.07</span></div>
              <div class="memo">국립세종수목원 수질개선과 에너지 관리법을 담은 사례집 배포</div>
            </div>
            <div class="boardList">
              <div class="date">31<br /><span>2023.07</span></div>
              <div class="memo">2023년 품종육성 지원사업 참여자 모집</div>
            </div>
          </section>
        </div>
      </article>
      <article class="reserve">
        <ul class="reserveBox">
          <li>교육프로그램<br />예약</li>
          <li>교육프로그램은 선착순으로 모집하며 조기에 마감될 수 있습니다.</li>
          <li class="btn">예약하기</li>
        </ul>
        <ul class="reserveBox">
          <li>전기 버스 <br />예약</li>
          <li>*동절기 전기버스 운영 중단 (12월 ~ 2월) 보행약자를 대상으로 한 관람 서비스입니다.</li>
          <li class="btn">예약하기</li>
        </ul>
        <ul class="reserveBox">
          <li>반려식물 <br />상담실</li>
          <li>2021.8.17 ~ 운영중</li>
          <li>
            <span class="icon">
              <i class="fa-solid fa-seedling"></i>
            </span>
          </li>
          <li class="btn">바로가기</li>
        </ul>
        <ul class="reserveBox">
          <li>카카오<strong>맵</strong> 로드뷰<br /><strong>랜선투어</strong></li>
          <li>국립세종수목원 비대면 랜선투어를 떠나요!</li>
          <li>
            <i class="fa-solid fa-location-dot"></i> <span>카카오<strong>맵</strong></span>
          </li>
          <li class="btn">랜선투어 출발</li>
        </ul>
        <ul class="reserveBox">
          <li>
            360˚VR영상<br />
            랜선투어
          </li>
          <li>
            <span class="icon">
              <i class="fa-solid fa-camera-retro"></i>
            </span>
          </li>
          <li class="btn">실내온실</li>
          <li class="btn">야외전시원</li>
        </ul>
        <ul class="reserveBox">
          <li>
            국립세종수목원<br />
            오늘의 날씨
          </li>
          <li class="weather">
            <span class="icon"></span>
          </li>
          <li class="btn">상세 날씨정보</li>
        </ul>
      </article>
      <article class="introduce">
        <div class="title">
          <h2>국립세종수목원 전시원 소개</h2>
          <span
            ><a href="">바로가기<i class="fa-solid fa-arrow-right-long"></i></a
          ></span>
        </div>
        <div class="placeContainer">
          <div class="left" role="button">
            <i class="fa-solid fa-chevron-left"></i>
          </div>
          <div class="placeWrap">
            <div class="place">
              <img src="/img/place01.jpg" alt="희귀특산식물전시온실" />
              <dl>
                <dd>아끼고 보전해야 하는</dd>
                <dt>희귀특산식물전시온실</dt>
              </dl>
            </div>
            <div class="place">
              <img src="/img/place02.jpg" alt="청류지원 습지원" />
              <dl>
                <dd>생물의 서식처로 진화하는</dd>
                <dt>청류지원 습지원</dt>
              </dl>
            </div>
            <div class="place">
              <img src="/img/place03.jpg" alt="한국전통정원" />
              <dl>
                <dd>전통문화를 느낄 수 있는</dd>
                <dt>한국전통정원</dt>
              </dl>
            </div>
            <div class="place">
              <img src="/img/place04.jpg" alt="사계절전시온실" />
              <dl>
                <dd>붓꽃을 모티브로 디자인한</dd>
                <dt>사계절전시온실</dt>
              </dl>
            </div>
            <div class="place">
              <img src="/img/place05.jpg" alt="분재원" />
              <dl>
                <dd>세월이 흐를수록 기품이 더해가는</dd>
                <dt>분재원</dt>
              </dl>
            </div>
          </div>
          <div class="right" role="button">
            <i class="fa-solid fa-chevron-right"></i>
          </div>
        </div>
      </article>
    </main>
    <footer></footer>

    <script src="/js/common.js"></script>
    <script>
      // 메인 슬라이드 작동
      let imgIndex;
      let sliderMark;
      let i = 1;
      let slideInterval;

      function showInterval() {
        // 현재 이미지와 슬라이더 마크에서 클래스 제거
        imgIndex = document.querySelector(`.imgBox > img.showImg`);
        sliderMark = document.querySelector(`.slider > div.mark`);
        imgIndex.classList.remove("showImg");
        sliderMark.classList.remove("mark");

        i++;

        if (i > 3) {
          i = 1;
        }

        // i 값에 따라 새로운 imgIndex와 sliderMark 설정
        imgIndex = document.querySelector(`.imgBox > img:nth-child(${i})`);
        sliderMark = document.querySelector(`.slider > div:nth-child(${i})`);

        // 새 이미지와 슬라이더 마크에 클래스 추가
        imgIndex.classList.add("showImg");
        sliderMark.classList.add("mark");
      }

      slideInterval = setInterval(showInterval, 3000);

      //슬라이드 정지버튼 누를시
      let stopBtn = document.querySelector(".slider > div:last-child");
      let stopToggle = true;

      stopBtn.addEventListener("click", function () {
        //슬라이드 정지
        if (stopToggle) {
          stopBtn.innerHTML = `<i class="fa-regular fa-circle-play"></i>`;
          clearInterval(slideInterval);
          stopToggle = false;

          //슬라이드 재할당
        } else {
          stopBtn.innerHTML = `<i class="fa-regular fa-circle-pause"></i>`;
          slideInterval = setInterval(showInterval, 3000);
          stopToggle = true;
        }
      });

      //날씨정보받아서 아이콘으로 변경
      const API_KEY = "257f4e6c8fc561a25d61cb3c90b41002";

      function onGeoOk(position) {
        const lat = position.coords.latitude;
        const lon = position.coords.longitude;
        const url = `https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${API_KEY}&units=metric`;
        fetch(url).then((response) =>
          response.json().then((data) => {
            const weather = document.querySelector(".weather span");
            let sky = data.weather[0].main;
            //날씨별로 ICON변경
            if (sky == "Clouds") {
              weather.innerHTML = `<i class="fa-solid fa-cloud"></i>`;
            } else if (sky == "Wind") {
              weather.innerHTML = `<i class="fa-solid fa-wind"></i>`;
            } else if (sky == "Clear") {
              weather.innerHTML = `<i class="fa-solid fa-sun"></i>`;
            } else if (sky == "Rain") {
              weather.innerHTML = `<i class="fa-solid fa-cloud-rain"></i>`;
            } else if (sky == "Snow") {
              weather.innerHTML = `<i class="fa-solid fa-snowflake"></i>`;
            }
          })
        );
      }
      //에러날시 Alert
      function onGeoError() {
        alert("Can't find you. No weather for you");
      }
      navigator.geolocation.getCurrentPosition(onGeoOk, onGeoError);

      //miniSlide .dots div클릭시 동작
      let dots = document.querySelectorAll(".dots div");
      let miniImg = document.querySelectorAll(".miniSlide img");

      dots.forEach(function (dot, index) {
        dot.addEventListener("click", function () {
          let leftValue = -25 * index; //24.4에 패딩포함
          miniImg.forEach(function (img) {
            img.style.left = leftValue + "%";
          });

          dots.forEach(function (dot) {
            dot.style.backgroundColor = "#bbb"; // 모든 div의 색상 초기화
          });
          this.style.backgroundColor = "#555"; // 클릭시 색상 변경
        });
      });

      //소개부분 화살표 클릭
      let leftBtn = document.querySelector(".left");
      let rightBtn = document.querySelector(".right");
      let placeWrap = document.querySelector(".placeWrap");
      leftBtn.addEventListener("click", function () {
        placeWrap.style.left = -350 + "px";
      });

      rightBtn.addEventListener("click", function () {
        console.log("Right button clicked");
      });

      //모달 닫기버튼
      let modalBtn = document.querySelector(".modal input[type=button]");

      modalBtn.addEventListener("click", function () {
        console.log("clicked!!");
      });
    </script>
  </body>
</html>
